-- Generated by Mocodo 4.1.1

CREATE TABLE athlete (
  PRIMARY KEY (id_athlete),
  id_athlete     INT(4) NOT NULL AUTO_INCREMENT,
  nom_athlete    VARCHAR(255),
  prenom_athlete VARCHAR(255),
  id_pays        INT(4) NOT NULL,
  id_genre       INT(4) NOT NULL
);

CREATE TABLE epreuve (
  PRIMARY KEY (id_epreuve),
  id_epreuve    INT(4) NOT NULL AUTO_INCREMENT,
  nom_epreuve   VARCHAR(255),
  date_epreuve  DATE,
  heure_epreuve TIME,
  id_lieu       INT(4) NOT NULL,
  id_sport      INT(4) NOT NULL
);

CREATE TABLE genre (
  PRIMARY KEY (id_genre),
  id_genre  INT(4) NOT NULL AUTO_INCREMENT,
  nom_genre VARCHAR(255)
);

CREATE TABLE lieu (
  PRIMARY KEY (id_lieu),
  id_lieu      INT(4) NOT NULL AUTO_INCREMENT,
  nom_lieu     VARCHAR(255),
  adresse_lieu VARCHAR(255),
  cp_lieu      VARCHAR(5),
  ville_lieu   VARCHAR(255)
);

CREATE TABLE participer (
  PRIMARY KEY (id_athlete, id_epreuve),
  id_athlete INT(4) NOT NULL,
  id_epreuve INT(4) NOT NULL,
  resultat   VARCHAR(100)
);

CREATE TABLE pays (
  PRIMARY KEY (id_pays),
  id_pays  INT(4) NOT NULL AUTO_INCREMENT,
  nom_pays VARCHAR(255)
);

CREATE TABLE sport (
  PRIMARY KEY (id_sport),
  id_sport  INT(4) NOT NULL AUTO_INCREMENT,
  nom_sport VARCHAR(255)
);

CREATE TABLE utilisateur (
  PRIMARY KEY (id_utilisateur),
  id_utilisateur     INT(4) NOT NULL AUTO_INCREMENT,
  nom_utilisateur    VARCHAR(255),
  prenom_utilisateur VARCHAR(255),
  login              VARCHAR(255),
  password                VARCHAR(255)
);

ALTER TABLE athlete ADD FOREIGN KEY (id_genre) REFERENCES GENRE (id_genre);
ALTER TABLE athlete ADD FOREIGN KEY (id_pays) REFERENCES PAYS (id_pays);

ALTER TABLE epreuve ADD FOREIGN KEY (id_sport) REFERENCES SPORT (id_sport);
ALTER TABLE epreuve ADD FOREIGN KEY (id_lieu) REFERENCES LIEU (id_lieu);

ALTER TABLE participer ADD FOREIGN KEY (id_epreuve) REFERENCES EPREUVE (id_epreuve);
ALTER TABLE participer ADD FOREIGN KEY (id_athlete) REFERENCES ATHLETE (id_athlete);
